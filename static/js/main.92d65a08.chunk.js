(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{60:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n(25),r=n.n(s),o=(n(59),n(60),n(22)),i=n(11),l=n(39),j=n(49),d="CAPTURE",u="RELEASE",h=n.n(j)()("state"),m=function(e,t){return console.log("filtering pokemon"),e.filter((function(e){return e!==t}))},b=function(e,t){switch(t.type){case d:return function(e,t){return{capturedPokemons:[].concat(Object(l.a)(t.capturedPokemons),[e])}}(t.pokemon,e);case u:return console.log("releasing"+t.pokemon.nick),function(e,t){return{capturedPokemons:m(t.capturedPokemons,e)}}(t.pokemon,e);default:return e}},x=Object(a.createContext)(),p=function(e){var t=h(b,{capturedPokemons:[]}),n=Object(i.a)(t,2),a=n[0],s=n[1],r={capturedPokemons:a.capturedPokemons,capture:function(e){return s({type:d,pokemon:e})},release:function(e){return s({type:u,pokemon:e})}};return Object(c.jsx)(x.Provider,{value:r,children:e.children})},O=n(26),f=n.n(O),k=n(31),g=n(7),v=n(35),y=n(53),w=n(17),N=n(13),P=n(10),C=n(21),S=n(16),E=function(e){var t=e.pokemon,n="#"+(3===String(t.id).length?t.id:2===String(t.id).length?"0"+t.id:"00"+t.id);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(S.a,{className:"poke-cell poke-"+t.types[0].type.name+"-light",children:[Object(c.jsxs)(S.a.Header,{children:[Object(c.jsx)(S.a.Subtitle,{className:"text-adjust",children:n}),Object(c.jsx)(S.a.Title,{className:"text-center text-uppercase text-adjust",children:t.name})]}),Object(c.jsx)(S.a.Img,{className:"img-adjust",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t.id,".png"),alt:t.name}),Object(c.jsx)(S.a.Footer,{children:Object(c.jsx)(N.a,{children:t.types.map((function(e){return Object(c.jsx)(P.a,{className:"text-center col-adjust px-2",children:Object(c.jsx)("div",{className:"text-adjust poke-type-adjust align-middle poke-type poke-"+e.type.name,children:e.type.name})})}))})})]})})},F=n(50),T=function(){return Object(c.jsxs)(w.a,{className:"justify-content-center align-center text-center pt-5",style:{width:"100%",height:"100vh"},children:[Object(c.jsx)(F.a,{size:"20rem",animation:"grow",variant:"danger",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(c.jsx)("p",{className:"text-center",children:"Loading data"})]})},B=n.p+"static/media/chevron-arrow-up.b7926f82.svg",A=function(e){var t,n=e.pokemons,a=Object(g.h)().url;return n&&(n.sort((function(e,t){return e.id-t.id})),t=n.map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(P.a,{xs:6,md:3,className:"my-3",children:Object(c.jsx)(o.b,{to:"".concat(a)+e.id,style:{textDecoration:"none"},children:Object(c.jsx)(E,{pokemon:e})})},e.id)})}))),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(w.a,{className:"pokedex-cont",children:[Object(c.jsx)("h1",{className:"text-center display-1 text-adjust mark",children:"Pokemon List"}),Object(c.jsx)(N.a,{children:t})]}),Object(c.jsx)(C.a,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},className:"scroll-btn shadow-none drop-shadow",children:Object(c.jsx)("img",{src:B,alt:"^",style:{width:"2em"},className:"img-adjust"})})]}):Object(c.jsx)(T,{})},H=n(12),L=n(52),I=n(40),D=n(33),W=function(e){var t=e.pokemon,n=t.types,s=t.moves,r="#"+(3===String(t.id).length?t.id:2===String(t.id).length?"0"+t.id:"00"+t.id),o=Object(a.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1],u=function(){return d(!1)},h=Object(a.useState)(!1),m=Object(i.a)(h,2),b=m[0],p=m[1],O=function(){return p(!1)},f=Object(a.useState)(""),k=Object(i.a)(f,2),g=k[0],v=k[1],y=Object(a.useState)(""),w=Object(i.a)(y,2),E=w[0],F=w[1],T=Object(a.useContext)(x),B=T.capture,A=T.capturedPokemons,W=function(e){var n={id:t.id+"-"+g,nick:g,name:t.name,pid:t.id,types:t.types};if(A){if(A.some((function(e){return e.nick===n.nick})))return F("*A "+t.name+" called ["+n.nick+"] exists, please enter another name"),void v("");if(!n.nick)return F("*Please enter a name"),void v("");if(n.nick.length>10)return F("*Please input a nickname under 10 characters"),void v("")}v(""),d(!1),B(n),F(""),e.preventDefault()};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(N.a,{className:"media-adjust",children:[Object(c.jsx)(P.a,{xs:12,sm:5,children:Object(c.jsxs)(D.a,{className:"poke-info sticky-top",children:[Object(c.jsx)("h4",{className:"text-adjust mark",children:r}),Object(c.jsx)("h2",{className:"text-adjust text-center text-uppercase display-4 font-weight-bold",children:t.name}),Object(c.jsx)(N.a,{children:n?n.map((function(e){return Object(c.jsx)(P.a,{className:"text-center",children:Object(c.jsx)("h4",{className:"text-adjust poke-type align-middle poke-"+e.type.name,children:e.type.name})})})):null}),Object(c.jsx)("img",{className:"mx-auto d-block img-adjust",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t.id,".png"),alt:t.name}),Object(c.jsx)(C.a,{className:"mx-auto d-block catch-button poke-"+n[0].type.name+"-dark shadow-none text-adjust",size:"lg",onClick:function(){Math.random()<.51?(v(""),F(""),d(!0)):p(!0)},children:"Catch the Pokemon!"})]})}),Object(c.jsxs)(P.a,{xs:12,sm:7,children:[Object(c.jsx)("h1",{className:"sticky-top text-adjust",children:"Moves"}),Object(c.jsx)(D.a,{className:"moves-list poke-"+n[0].type.name,children:Object(c.jsx)(L.a,{className:"card-column-style",children:s?s.map((function(e){return Object(c.jsxs)(S.a,{className:"card-style poke-"+n[0].type.name+"-light",children:[" ",Object(c.jsxs)(S.a.Body,{className:"text-capitalize text-adjust font-weight-bold py-2",children:[" ",e.move.name.replace("-"," ")," "]})," "]})})):null})})]})]}),Object(c.jsxs)(H.a,{show:j,onHide:u,backdrop:"static",keyboard:!1,centered:!0,children:[Object(c.jsx)(H.a.Header,{closeButton:!0,children:Object(c.jsx)(H.a.Title,{children:"POKEMON CAUGHT"})}),Object(c.jsxs)(H.a.Body,{children:[Object(c.jsxs)("h2",{className:"text-center",children:["You caught a ",t.name,"!"]}),Object(c.jsxs)(I.a,{onSubmit:W,children:[Object(c.jsx)(I.a.Control,{type:"text",placeholder:"Enter nickname",className:"mr-sm-2",value:g,onChange:function(e){return v(e.target.value)},onKeyPress:function(e){console.log("key handler"),"Enter"===e.key&&(v(e.target.value),W(),e.preventDefault())}}),Object(c.jsx)(I.a.Text,{className:"text-danger text-smaller",children:E})]})]}),Object(c.jsxs)(H.a.Footer,{children:[Object(c.jsx)(C.a,{variant:"secondary",onClick:u,children:"Release"}),Object(c.jsx)(C.a,{variant:"success",onClick:W,children:"Confirm"})]})]}),Object(c.jsxs)(H.a,{show:b,onHide:O,centered:!0,children:[Object(c.jsx)(H.a.Header,{closeButton:!0,children:Object(c.jsx)(H.a.Title,{children:"POKEMON NOT CAUGHT"})}),Object(c.jsx)(H.a.Body,{children:Object(c.jsx)("h2",{className:"text-center",children:"Try again next time"})}),Object(c.jsx)(H.a.Footer,{children:Object(c.jsx)(C.a,{variant:"secondary",onClick:O,children:"Ok"})})]})]})},U=function(){var e=Object(g.g)().pokeID,t=Object(a.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(!0),l=Object(i.a)(o,2),j=l[0],d=l[1];return Object(a.useEffect)((function(){(function(){var e=Object(k.a)(f.a.mark((function e(t){var n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/"+t+"/");case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,a={id:c.id,name:c.name,types:c.types,moves:c.moves},e.next=9,r(a);case 9:return e.next=11,d(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}),[]),s!==[]&&s?e>898?Object(c.jsx)(w.a,{className:"position-fixed poke-info-cont",children:Object(c.jsx)("h1",{className:"text-center align-center",children:"No pokemon with that ID found"})}):Object(c.jsx)(c.Fragment,{children:j?Object(c.jsx)(T,{}):Object(c.jsx)(w.a,{className:"position-fixed poke-info-cont poke-"+s.types[0].type.name+"-light pt-3",children:Object(c.jsx)(W,{pokemon:s})})}):Object(c.jsx)(T,{})},M=function(e){var t=e.pokemon,n=t.types,s=Object(a.useContext)(x).release,r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],j=o[1],d=function(){return j(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(N.a,{children:[Object(c.jsx)(P.a,{xs:12,sm:2,children:Object(c.jsx)("img",{className:"mx-auto d-block my-poke-img",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t.pid,".png"),alt:t.name})}),Object(c.jsxs)(P.a,{xs:9,sm:8,children:[Object(c.jsx)(N.a,{children:Object(c.jsx)("h3",{className:"text-adjust display-4 font-weight-bold",children:t.nick})}),Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"text-adjust font-italic",children:t.name})}),Object(c.jsxs)(N.a,{className:"mt-2",children:[n?n.map((function(e){return Object(c.jsx)(P.a,{xs:4,sm:2,className:"text-center",children:Object(c.jsx)("div",{className:"text-adjust text-capitalize poke-type float-left poke-"+e.type.name,children:e.type.name})})})):null,Object(c.jsx)(P.a,{xs:!0})]})]}),Object(c.jsx)(P.a,{xs:3,sm:2,className:"bt-release-cont",children:Object(c.jsx)(C.a,{className:"float-right bt-release",variant:"danger",onClick:function(){return j(!0)},children:Object(c.jsx)("span",{"aria-hidden":"true",className:"font-weight-bolder",children:"X"})})})]}),Object(c.jsxs)(H.a,{show:l,onHide:d,centered:!0,children:[Object(c.jsx)(H.a.Header,{closeButton:!0,children:Object(c.jsx)(H.a.Title,{children:"POKEMON CAUGHT"})}),Object(c.jsxs)(H.a.Body,{children:[Object(c.jsxs)("h2",{className:"text-center",children:["Do you want to release [",t.nick,"]?"]}),Object(c.jsx)("img",{className:"mx-auto d-block img-adjust",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t.pid,".png"),alt:t.name})]}),Object(c.jsx)(H.a.Footer,{children:Object(c.jsxs)(N.a,{style:{width:"100%"},children:[Object(c.jsx)(P.a,{xs:6,className:"text-center",children:Object(c.jsx)(C.a,{variant:"secondary",onClick:d,block:!0,children:"Don't Release"})}),Object(c.jsx)(P.a,{xs:6,className:"text-center",children:Object(c.jsx)(C.a,{variant:"danger",onClick:function(){s(t),d()},block:!0,children:"Release"})})]})})]})]})},R=function(){var e,t=Object(a.useContext)(x).capturedPokemons;return t&&0!==t.length?(e=t.map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(S.a,{className:"my-5",children:Object(c.jsx)(S.a.Body,{children:Object(c.jsx)(M,{pokemon:e})})})})})))?Object(c.jsxs)(w.a,{className:"position-fixed my-poke-container py-5",children:[Object(c.jsx)("h1",{className:"sticky-top text-center text-adjust display-2 mark",children:"My Pokemon"}),Object(c.jsx)(D.a,{className:"my-poke-list",children:e})]}):null:Object(c.jsx)(w.a,{className:"position-fixed my-poke-container py-5",children:Object(c.jsx)("h1",{className:"text-center",children:"No pokemon caught!"})})},z=function(){return Object(c.jsxs)(w.a,{className:"text-center not-found-cont position-fixed",children:[Object(c.jsx)("h1",{className:"display-2",children:"Page not found."}),Object(c.jsx)(o.b,{to:"/pokedex/",children:"\ud83e\udc68 go back to home"})]})},K=n.p+"static/media/Pokeball.e57f7ae6.svg",G=n.p+"static/media/Bag.0e35bde5.svg",J=function(){var e=Object(a.useContext)(x).capturedPokemons,t=Object(a.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1],j=Object(a.useState)(0),d=Object(i.a)(j,2),u=d[0],h=d[1],m=Object(a.useState)(1),b=Object(i.a)(m,2),p=b[0],O=b[1],w=Object(a.useState)(!1),N=Object(i.a)(w,2),P=N[0],C=N[1],S=Object(a.useState)(!0),E=Object(i.a)(S,2),F=E[0],T=E[1],B=function(){var e=Object(k.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=12*(p-1),e.next=3,fetch("https://pokeapi.co/api/v2/pokemon/?limit=12&offset="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:e.sent.results.forEach((function(e){s.includes(e)||H(e)})),C(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(f.a.mark((function e(t){var n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.url);case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,a={id:c.id,name:c.name,types:c.types,moves:c.moves},!(c.id>898)){e.next=10;break}return T(!1),e.abrupt("return");case 10:return e.next=12,r((function(e){return[].concat(Object(l.a)(e),[a])}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){window.innerHeight+window.scrollY+100>=document.body.offsetHeight&&F&&C(!0)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",L),window.addEventListener("touchmove",L),O(2),B(),function(){window.removeEventListener("scroll",L),window.removeEventListener("touchmove",L)}}),[]),Object(a.useEffect)((function(){if(P&&P){var e=p;e++,O(e),B()}}),[P]),Object(a.useEffect)((function(){(e||e.length>0)&&h(e.length)}),[e]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(v.a,{variant:"dark-red drop-shadow-bold",sticky:"top",children:[Object(c.jsx)(o.b,{to:"/pokedex/",children:Object(c.jsxs)(v.a.Brand,{children:[Object(c.jsx)("img",{alt:"",src:K,width:"45",height:"45",className:"d-inline-block align-top drop-shadow"}),"",Object(c.jsx)("h2",{className:"d-inline-block pl-2 navbar-item",children:"Pokemon"})]})}),Object(c.jsx)(v.a.Collapse,{className:"justify-content-end",children:Object(c.jsx)(o.b,{to:"/my-pokemon",children:Object(c.jsxs)(v.a.Brand,{children:[Object(c.jsx)("img",{alt:"",src:G,width:"50",height:"50",className:"drop-shadow"}),Object(c.jsx)(y.a,{variant:"primary",className:"align-top text-captured",pill:!0,children:Object(c.jsx)("span",{className:"align-middle",children:u})})]})})})]}),Object(c.jsxs)(g.d,{children:[Object(c.jsx)(g.b,{exact:!0,path:"/pokedex/",children:Object(c.jsx)(A,{pokemons:s})}),Object(c.jsx)(g.b,{path:"/pokedex/:pokeID",children:Object(c.jsx)(U,{})}),Object(c.jsx)(g.b,{path:"/my-pokemon",children:Object(c.jsx)(R,{})}),Object(c.jsx)(g.b,{render:function(){return Object(c.jsx)(g.a,{to:{pathname:"/not-found"}})},children:Object(c.jsx)(z,{})})]})]})};n(68);var Y=function(){return Object(c.jsx)(p,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(J,{})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(c.jsx)(Y,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pokedex",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pokedex","/service-worker.js");$?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),console.log("using localhost"),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):q(t,e)}))}}(),X()}},[[69,1,2]]]);
//# sourceMappingURL=main.92d65a08.chunk.js.map